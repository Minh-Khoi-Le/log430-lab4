<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="673px" preserveAspectRatio="none" style="width:1004px;height:673px;background:#FFFFFF;" version="1.1" viewBox="0 0 1004 673" width="1004px" zoomAndPan="magnify"><title>RDCU - Vente produit</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="168.9844" x="418.575" y="27.9951">RDCU - Vente produit</text><rect fill="none" height="294.1328" style="stroke:#000000;stroke-width:1.5;" width="780.479" x="216.6553" y="281.2578"/><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="473.7969" width="8" x="24.2651" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="28" x2="28" y1="118.5938" y2="592.3906"/></g><g><title>UI React</title><rect fill="#000000" fill-opacity="0.00000" height="473.7969" width="8" x="259.1216" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="262.6553" x2="262.6553" y1="118.5938" y2="592.3906"/></g><g><title>Express API</title><rect fill="#000000" fill-opacity="0.00000" height="473.7969" width="8" x="581.9185" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="585.1318" x2="585.1318" y1="118.5938" y2="592.3906"/></g><g><title>VenteDAO</title><rect fill="#000000" fill-opacity="0.00000" height="473.7969" width="8" x="739.543" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="743.2715" x2="743.2715" y1="118.5938" y2="592.3906"/></g><g><title>Prisma (DB)</title><rect fill="#000000" fill-opacity="0.00000" height="473.7969" width="8" x="841.4932" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="844.8145" x2="844.8145" y1="118.5938" y2="592.3906"/></g><g><title>Prisma</title><rect fill="#000000" fill-opacity="0.00000" height="473.7969" width="8" x="952.335" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="955.5356" x2="955.5356" y1="118.5938" y2="592.3906"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="5" y="115.292">Client</text><ellipse cx="28.2651" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28.2651,58.7969 L28.2651,85.7969 M15.2651,66.7969 L41.2651,66.7969 M28.2651,85.7969 L15.2651,100.7969 M28.2651,85.7969 L41.2651,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="5" y="604.3857">Client</text><ellipse cx="28.2651" cy="616.1875" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28.2651,624.1875 L28.2651,651.1875 M15.2651,632.1875 L41.2651,632.1875 M28.2651,651.1875 L15.2651,666.1875 M28.2651,651.1875 L41.2651,666.1875" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Frontend"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72.9326" x="226.6553" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.9326" x="233.6553" y="107.292">UI React</text></g><g class="participant participant-tail" data-participant="Frontend"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72.9326" x="226.6553" y="591.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.9326" x="233.6553" y="611.3857">UI React</text></g><g class="participant participant-head" data-participant="Backend"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.5732" x="538.1318" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.5732" x="545.1318" y="107.292">Express API</text></g><g class="participant participant-tail" data-participant="Backend"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.5732" x="538.1318" y="591.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.5732" x="545.1318" y="611.3857">Express API</text></g><g class="participant participant-head" data-participant="VenteDAO"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86.543" x="700.2715" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.543" x="707.2715" y="107.292">VenteDAO</text></g><g class="participant participant-tail" data-participant="VenteDAO"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86.543" x="700.2715" y="591.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.543" x="707.2715" y="611.3857">VenteDAO</text></g><g class="participant participant-head" data-participant="Prisma (DB)"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.3574" x="796.8145" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.3574" x="803.8145" y="107.292">Prisma (DB)</text></g><g class="participant participant-tail" data-participant="Prisma (DB)"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.3574" x="796.8145" y="591.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.3574" x="803.8145" y="611.3857">Prisma (DB)</text></g><g class="participant participant-head" data-participant="Prisma"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="61.5986" x="925.5356" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.5986" x="932.5356" y="107.292">Prisma</text></g><g class="participant participant-tail" data-participant="Prisma"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="61.5986" x="925.5356" y="591.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.5986" x="932.5356" y="611.3857">Prisma</text></g><g class="message" data-participant-1="Client" data-participant-2="Frontend"><polygon fill="#181818" points="251.1216,145.7266,261.1216,149.7266,251.1216,153.7266,255.1216,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="28.2651" x2="257.1216" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.8564" x="35.2651" y="144.6606">Valider achat (Confirmer panier)</text></g><g class="message" data-participant-1="Frontend" data-participant-2="Backend"><polygon fill="#181818" points="573.9185,174.8594,583.9185,178.8594,573.9185,182.8594,577.9185,178.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="263.1216" x2="579.9185" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298.7969" x="270.1216" y="173.7935">POST /ventes {clientNom, magasinId, panier}</text></g><g class="message" data-participant-1="Backend" data-participant-2="VenteDAO"><polygon fill="#181818" points="731.543,203.9922,741.543,207.9922,731.543,211.9922,735.543,207.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="585.9185" x2="737.543" y1="207.9922" y2="207.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.3179" x="592.9185" y="202.9263">createVente(...)</text></g><g class="message" data-participant-1="VenteDAO" data-participant-2="Prisma"><polygon fill="#181818" points="944.335,233.125,954.335,237.125,944.335,241.125,948.335,237.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="743.543" x2="950.335" y1="237.125" y2="237.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.2705" x="750.543" y="232.0591">V&#233;rifier stock (findFirst)</text></g><g class="message" data-participant-1="Prisma" data-participant-2="VenteDAO"><polygon fill="#181818" points="754.543,262.2578,744.543,266.2578,754.543,270.2578,750.543,266.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="748.543" x2="955.335" y1="266.2578" y2="266.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.0054" x="760.543" y="261.1919">Stock OK/KO</text></g><path d="M216.6553,281.2578 L281.0981,281.2578 L281.0981,288.3906 L271.0981,298.3906 L216.6553,298.3906 L216.6553,281.2578" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="294.1328" style="stroke:#000000;stroke-width:1.5;" width="780.479" x="216.6553" y="281.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="231.6553" y="294.3247">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.2378" x="296.0981" y="293.4683">[Stock suffisant]</text><g class="message" data-participant-1="VenteDAO" data-participant-2="Prisma"><polygon fill="#181818" points="944.335,315.5234,954.335,319.5234,944.335,323.5234,948.335,319.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="743.543" x2="950.335" y1="319.5234" y2="319.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.792" x="750.543" y="314.4575">Cr&#233;er client (findFirst/create)</text></g><g class="message" data-participant-1="VenteDAO" data-participant-2="Prisma"><polygon fill="#181818" points="944.335,344.6563,954.335,348.6563,944.335,352.6563,948.335,348.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="743.543" x2="950.335" y1="348.6563" y2="348.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.9067" x="750.543" y="343.5903">Cr&#233;er vente (vente.create)</text></g><g class="message" data-participant-1="VenteDAO" data-participant-2="Prisma"><polygon fill="#181818" points="944.335,373.7891,954.335,377.7891,944.335,381.7891,948.335,377.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="743.543" x2="950.335" y1="377.7891" y2="377.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.8267" x="750.543" y="372.7231">Cr&#233;er lignes (lignes.create)</text></g><g class="message" data-participant-1="VenteDAO" data-participant-2="Prisma"><polygon fill="#181818" points="944.335,402.9219,954.335,406.9219,944.335,410.9219,948.335,406.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="743.543" x2="950.335" y1="406.9219" y2="406.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.6812" x="750.543" y="401.856">Update stocks (updateMany)</text></g><g class="message" data-participant-1="Prisma" data-participant-2="VenteDAO"><polygon fill="#181818" points="754.543,432.0547,744.543,436.0547,754.543,440.0547,750.543,436.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="748.543" x2="955.335" y1="436.0547" y2="436.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.3301" x="760.543" y="430.9888">Success</text></g><g class="message" data-participant-1="VenteDAO" data-participant-2="Backend"><polygon fill="#181818" points="596.9185,461.1875,586.9185,465.1875,596.9185,469.1875,592.9185,465.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="590.9185" x2="742.543" y1="465.1875" y2="465.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.3931" x="602.9185" y="460.1216">{success}</text></g><g class="message" data-participant-1="Backend" data-participant-2="Frontend"><polygon fill="#181818" points="274.1216,490.3203,264.1216,494.3203,274.1216,498.3203,270.1216,494.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="268.1216" x2="584.9185" y1="494.3203" y2="494.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.9893" x="280.1216" y="489.2544">200 OK (Achat confirm&#233;)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="216.6553" x2="997.1343" y1="503.3203" y2="503.3203"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="114.8394" x="221.6553" y="513.5308">[Stock insuffisant]</text><g class="message" data-participant-1="VenteDAO" data-participant-2="Backend"><polygon fill="#181818" points="596.9185,534.2578,586.9185,538.2578,596.9185,542.2578,592.9185,538.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="590.9185" x2="742.543" y1="538.2578" y2="538.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.6245" x="602.9185" y="533.1919">{error: out of stock}</text></g><g class="message" data-participant-1="Backend" data-participant-2="Frontend"><polygon fill="#181818" points="274.1216,563.3906,264.1216,567.3906,274.1216,571.3906,270.1216,567.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="268.1216" x2="584.9185" y1="567.3906" y2="567.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.2061" x="280.1216" y="562.3247">400 (Erreur stock)</text></g><!--SRC=[ZL9BRi8m4Dtx52DMYSHFLLSiAa402Q4M18MzvJZK8h6ZiLErGXo8St2n3aw86fMMhYpFlC_uUPnogOJLEDf01xPIEmavchXGZZ4kd468KaLbbdDqIgYSQmUjpGnMajeju1QcQ8YcuoPayf6Zj1Q6ovb7ZRZO_m1vm_5mqMgMbwXinY4OZy8MO-K0q7cgdM00MvwgM29mySOT197HYSAC2gIW98QinXAlyYRQSh5-XTxxnTR2GNZb5vEr8UCxRfMUnUrAuSYkB1AupaaA0YLtqXU2RhSRihf7k6fm6kzyGfMG35Xdn1w2HEbugj2wa5MWJbDtxN6BUM- -O3nrrTqMIQ8iXS80RXf5U3wHI_cIRpQzSixm3iyd0O4_kl-Zf6gdARoWFE-HDdbCxJ858XN- -iprvuNnInA54BGv3SN69nviYJWIfFwavdeyzFkK9GH3lnwYt8xpAMGojRBALkdRwJQz9AB10PZ2WKdAT_pX-qY-mGHH5jNFawEElm00]--></g></svg>